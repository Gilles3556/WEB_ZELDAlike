var monsters='{"Monsters":['+
'{"nom":"#m1","pv":100,"armor":10,"energy":100,"att":10,"top":"459px","left":"792.2px"},'+
'{"nom":"#m2","pv":100,"armor":10,"energy":100,"att":10,"top":"672.6px","left":"296.3px"},'+
'{"nom":"#m3","pv":100,"armor":10,"energy":100,"att":10,"top":"245.4px","left":"87.5px"}]}';
var posblock=[
			  //LIGNE 1
			  "31.8px","322.4px",
			  "31.8px","348.5px",
			  "31.8px","426.8px",
			  "31.8px","844.4px",
			  "31.8px","870.5px",
			  "31.8px","1053.2px",
			  "31.8px","1079.3px",
			  "31.8px","1105.4px",
			  //LIGNE 2
			  "58.5px","139.7px",
			  "58.5px","165.8px",
			  "58.5px","244.1px",
			  "58.5px","270.2px",
			  "58.5px","296.3px",
			  "58.5px","322.4px",
			  "58.5px","348.5px",
			  "58.5px","374.6px",
			  "58.5px","557.3px",
			  "58.5px","583.4px",
			  "58.5px","609.5px",
			  "58.5px","635.6px",
			  "58.5px","818.3px",
			  "58.5px","844.4px",
			  "58.5px","870.5px",
			  "58.5px","1053.2px",
			  "58.5px","1079.3px",
			  "58.5px","1105.4px",
			  //LIGNE 3
			  "85.2px","61.4px",
			  "85.2px","87.5px",
			  "85.2px","113.6px",
			  "85.2px","139.7px",
			  "85.2px","165.8px",
			  "85.2px","244.1px",
			  "85.2px","400.7px",
			  "85.2px","426.8px",
			  "85.2px","452.9px",
			  "85.2px","479px",
			  "85.2px","505.2px",
			  "85.2px","531.2px",
			  "85.2px","635.6px",
			  "85.2px","792.2px",
			  "85.2px","896.6px",
			  "85.2px","922.7px",
			  "85.2px","948.8px",
			  "85.2px","974.9px",
			  "85.2px","1001px",
			  "85.2px","1027.1px",
			  //LIGNE 4
			  "111.9px","165.8px",
			  "111.9px","244.1px",
			  "111.9px","635.6px",
			  "111.9px","792.2px",
			  "111.9px","922.7px",
			  "111.9px","948.8px",
			  "111.9px","974.9px",
			  "111.9px","1001px",
			  //LIGNE 5
			  "138.6px","165.8px",
			  "138.6px","244.1px",
			  "138.6px","270.2px",
			  "138.6px","296.3px",
			  "138.6px","322.4px",
			  "138.6px","348.5px",
			  "138.6px","374.6px",
			  "138.6px","479px",
			  "138.6px","505.1px",
			  "138.6px","635.6px",
			  "138.6px","713.9px",
			  "138.6px","740px",
			  "138.6px","818.3px",
			  "138.6px","896.6px",
			  "138.6px","1027.1px",
			  //LIGNE 6
			  "165.3px","139.7px",
			  "165.3px","244.1px",
			  "165.3px","400.7px",
			  "165.3px","452.9px",
			  "165.3px","531.2px",
			  "165.3px","557.3px",
			  "165.3px","635.6px",
			  "165.3px","713.9px",
			  "165.3px","740px",
			  "165.3px","818.3px",
			  "165.3px","844.4px",
			  "165.3px","870.5px",
			  "165.3px","896.6px",
			  "165.3px","1001px",
			  "165.3px","1053.2px",
			  //LIGNE 7
			  "192px","139.7",
			  "192px","244.1",
			  "192px","61.4px",
			  "192px","87.5px",
			  "192px","113.6px",
			  "192px","426.8px",
			  "192px","531.2px",
			  "192px","583.4px",
			  "192px","609.5px",
			  "192px","635.6px",
			  "192px","766.1px",
			  "192px","792.2px",
			  "192px","1001px",
			  "192px","1027.1px",
			  "192px","1079.3px",
			  //LIGNE 8
			  "218,7","244.1px",
			  "218,7","139.7",
			  "218.7","191.9",
			  "218.7px","400.7px",
			  "218.7px","426.8px",
			  "218.7px","479px",
			  "218.7px","635.6px",
			  "218.7px","766.1px",
			  "218.7px","792.2px",
			  "218.7px","844.4px",
			  "218.7px","870.5px",
			  "218.7px","1079.3px",
			  //LIGNE 9
			  "245.4px","245.4px",
			  "245.4px","139.7px",
			  "245.4px","244.1px",
			  "245.4px","322.4px",
			  "245.4px","348.5px",
			  "245.4px","374.6px",
			  "245.4px","400.7px",
			  "245.4px","479px",
			  "245.4px","583.4px",
			  "245.4px","609.5px",
			  "245.4px","687.8px",
			  "245.4px","713.9px",
			  "245.4px","844.4px",
			  "245.4px","870.5px",
			  "245.4px","922.7px",
			  "245.4px","948.8px",
			  "245.4px","1079.3px",
			  //LIGNE 10
			  "272.1px","165.7px",
			  "272.1px","191.9px",
			  "272.1px","218px",
			  "272.1px","322.4px",
			  "272.1px","348.5px",
			  "272.1px","400.7px",
			  "272.1px","426.8px",
			  "272.1px","452.9px",
			  "272.1px","479px",
			  "272.1px","583.4px",
			  "272.1px","609.5px",
			  "272.1px","687.8px",
			  "272.1px","713.9px",
			  "272.1px","922.7px",
			  "272.1px","948.8px",
			  "272.1px","1079.3x",
			  //LIGNE 11
			  "298.8px","61.4px",
			  "298.8px","87.5px",
			  "298.8px","322.4px",
			  "298.8px","348.5px",
			  "298.8px","583.4px",
			  "298.8px","609.5px",
			  "298.8px","740px",
			  "298.8px","766.1px",
			  "298.8px","844.4px",
			  "298.8px","870.5px",
			  "298.8px","1079.3px",
			  //LIGNE 12
			  "325.5px","87.5px",
			  "325.5px","322.4px",
			  "325.5px","348.5px",
			  "325.5px","583.4px",
			  "325.5px","609.5px",
			  "325.5px","740px",
			  "325.5px","766.1px",
			  "325.5px","844.4px",
			  "325.5px","870.5px",
			  "325.5px","1079.3px",
			  //LIGNE 13
			  "352.2px","87.5px",
			  "352.2px","322.4px",
			  "352.2px","374.6px",
			  "352.2px","400.7px",
			  "352.2px","583.4px",
			  "352.2px","609.5px",
			  "352.2px","766.1px",
			  "352.2px","792.2px",
			  "352.2px","1079.3px",
			  //LIGNE 14
			  "378.9px","113.6px",
			  "378.9px","139.7px",
			  "378.9px","165.8px",
			  "378.9px","191.9px",
			  "378.9px","218px",
			  "378.9px","322.4px",
			  "378.9px","374.6px",
			  "378.9px","400.7px",
			  "378.9px","452.9px",
			  "378.9px","505.1px",
			  "378.9px","531.2px",
			  "378.9px","583.4px",
			  "378.9px","609.5px",
			  "378.9px","661.7px",
			  "378.9px","687.8px",
			  "378.9px","766.1px",
			  "378.9px","792.1px",
			  "378.9px","922.7px",
			  "378.9px","948.8px",
			  "378.9px","1079.3px",
			  //LIGNE 15
			  "405.6px","218px",
			  "405.6px","322.4px",
			  "405.6px","348.5px",
			  "405.6px","400.7px",
			  "405.6px","426.8px",
			  "405.6px","479px",
			  "405.6px","505.1px",
			  "405.6px","531.2px",
			  "405.6px","557.3px",
			  "405.6px","635.6px",
			  "405.6px","661.7px",
			  "405.6px","687.8px",
			  "405.6px","713.9px",
			  "405.6px","740px",
			  "405.6px","922.6px",
			  "405.6px","948.8px",
			  "405.6px","1079.3px",
			  //LIGNE 16
			  "432.3px","218px",
			  "432.3px","322.4px",
			  "432.3px","348.5px",
			  "432.3px","400.7px",
			  "432.3px","426.8px",
			  "432.3px","557.3px",
			  "432.3px","583.4px",
			  "432.3px","609.5px",
			  "432.3px","635.6px",
			  "432.3px","713.9px",
			  "432.3px","740px",
			  "432.3px","1001px",
			  "432.3px","1027.1px",
			  "432.3px","1079.3px",
			  //LIGNE 17
			  "459px","218px",
			  "459px","322.4px",
			  "459px","348.5px",
			  "459px","844.4px",
			  "459px","870.5px",
			  "459px","1001px",
			  "459px","1027.1px",
			  "459px","1079.3px",
			  //LIGNE 18
			  "485.7px","218px",
			  "485.7px","322.4px",
			  "485.7px","374.6px",
			  "485.7px","844.4px",
			  "485.7px","870.5px",
			  "485.7px","1079.3px",
			  //LIGNE 19
			  "512.4px","191.9px",
			  "512.4px","322.4px",
			  "512.4px","400.7px",
			  "512.4px","426.8px",
			  "512.4px","452.9px",
			  "512.4px","479px",
			  "512.4px","505.1px",
			  "512.4px","583.4px",
			  "512.4px","609.5px",
			  "512.4px","635.6px",
			  "512.4px","661.7px",
			  "512.4px","687.8px",
			  "512.4px","713.9px",
			  "512.4px","740px",
			  "512.4px","766.1px",
			  "512.4px","792.2px",
			  "512.4px","818.3px",
			  "512.4px","896.6px",
			  "512.4px","922.7px",
			  "512.4px","1001px",
			  "512.4px","1027.1px",
			  "512.4px","1053.2px",
			  //LIGNE 20
			  "539.1px","191.9px",
			  "539.1px","322.4px",
			  "539.1px","348.5px",
			  "539.1px","374.6px",
			  "539.1px","400.7px",
			  "539.1px","505.1px",
			  "539.1px","583.4px",
			  "539.1px","922.7px",
			  "539.1px","1001px",
			  //LIGNE 21
			  "565.9px","165.8px",
			  "565.9px","426.8px",
			  "565.9px","452.9px",
			  "565.9px","479px",
			  "565.9px","583.4px",
			  "565.9px","661.7px",
			  "565.9px","687.8px",
			  "565.9px","713.9px",
			  "565.9px","740px",
			  "565.9px","766.1px",
			  "565.9px","792.2px",
			  "565.9px","818.3px",
			  "565.9px","896.6px",
			  "565.9px","922.7px",
			  "565.9px","1001px",
			  "565.9px","1027.1px",
			  "565.9px","1053.1px",
			  "565.9px","1079.3px",
			  //LIGNE 22
			  "592.5px","165.8px",
			  "592.5px","426.8px",
			  "592.5px","479px",
			  "592.5px","557.3px",
			  "592.5px","635.6px",
			  "592.5px","844.4px",
			  "592.5px","870.5px",
			  "592.5px","1105.3px",
			  //LIGNE 23
			  "619.2px","113.6px",
			  "619.2px","139.7px",
			  "619.2px","191.9px",
			  "619.2px","400.7px",
			  "619.2px","426.8px",
			  "619.2px","479px",
			  "619.2px","505.1px",
			  "619.2px","557.3px",
			  "619.2px","365.6px",
			  "619.2px","635.6px",
			  "619.2px","687.8px",
			  "619.2px","740px",
			  "619.2px","792.2px",
			  "619.2px","844.4px",
			  "619.2px","870.5px",
			  "619.2px","948.8px",
			  "619.2px","1001px",
			  "619.2px","1053.2px",
			  "619.2px","1105.4px",
			  //LIGNE 24
			  "645.9px","87.5px",
			  "645.9px","165.8px",
			  "645.9px","218px",
			  "645.9px","400.7px",
			  "645.9px","426.8px",
			  "645.9px","479px",
			  "645.9px","505.1px",
			  "645.9px","531.2px",
			  "645.9px","557.3px",
			  "645.9px","583.4px",
			  "645.9px","609.5px",
			  "645.9px","635.6px",
			  "645.9px","844.4px",
			  "645.9px","870.5px",
			  "645.9px","1105.4px",
			  //LIGNE 25
			  "672.6px","87.5px",
			  "672.6px","139.7px",
			  "672.6px","191.9px",
			  "672.6px","244.1px",
			  "672.6px","687.8px",
			  "672.6px","740px",
			  "672.6px","792.2px",
			  "672.6px","844.4px",
			  "672.6px","870.5px",
			  "672.6px","948.8px",
			  "672.6px","1001px",
			  "672.6px","1053.2px",
			  "672.6px","1105.4px",
			  //LIGNE 26
			  "699.3px","87.5px",
			  "699.3px","218px",
			  "699.3px","270.2px",
			  "699.3px","844.4px",
			  "699.3px","870.5px",
			  "699.3px","1105.4px",
			  //LIGNE 27
			  "726px","87.5px",
			  "726px","218px",
			  "726px","244.1px",
			  "726px","296.3px",
			  "726px","322.4px",
			  "726px","348.5px",
			  "726px","374.6px",
			  "726px","400.7px",
			  "726px","426.8px",
			  "726px","452.9px",
			  "726px","479px",
			  "726px","505.1px",
			  "726px","583.4px",
			  "726px","609.5px",
			  "726px","635.6px",
			  "726px","844.4px",
			  "726px","870.5px",
			  "726px","1105.4px",
			  //LIGNE 28
			  "752.7px","87.5px",
			  "752.7px","218px",
			  "752.7px","244.1px",
			  "752.7px","296.3px",
			  "752.7px","322.4px",
			  "752.7px","348.5px",
			  "752.7px","374.6px",
			  "752.7px","400.7px",
			  "752.7px","426.8px",
			  "752.7px","452.9px",
			  "752.7px","479px",
			  "752.7px","505.1px",
			  "752.7px","583.4px",
			  "752.7px","635.6px",
			  "752.7px","844.4px",
			  "752.7px","870.5px",
			  "752.7px","1105.4px",
			  //LIGNE 29
			  "779.4px","113.6px",
			  "779.4px","139.7px",
			  "779.4px","191.9px",
			  "779.4px","218px",
			  "779.4px","505.1px",
			  "779.4px","583.4px",
			  "779.4px","635.6px",
			  "779.4px","713.9px",
			  "779.4px","766.1px",
			  "779.4px","844.4px",
			  "779.4px","870.5px",
			  "779.4px","948.8px",
			  "779.4px","1001px",
			  "779.4px","1053.2px",
			  "779.4px","1105.4px",
			  //LIGNE 30
			  "806.1px","113.6px",
			  "806.1px","426.8px",
			  "806.1px","505.1px",
			  "806.1px","583.4px",
			  "806.1px","635.6px",
			  "806.1px","1105.4px",
			  //LIGNE 31
			  "832.8px","113.6px",
			  "832.8px","400.7px",
			  "832.8px","452.9px",
			  "832.8px","479px",
			  "832.8px","505.1px",
			  "832.8px","583.4px",
			  "832.8px","635.6px",
			  "832.8px","713.9px",
			  "832.8px","766.1px",
			  "832.8px","948.8px",
			  "832.8px","1001px",
			  "832.8px","1105.4px",
			  //LIGNE 32
			  "859.5px","113.6px",
			  "859.5px","400.7px",
			  "859.5px","452.9px",
			  "859.5px","479px",
			  "859.5px","583.4px",
			  "859.5px","635.6px",
			  "859.5px","1027.1px",
			  "859.5px","1053.2px",
			  "859.5px","1079.3px",
			  "859.5px","1105.4px",
			  //LIGNE 33
			  "886.2px","113.6px",
			  "886.2px","479px",
			  "886.2px","557.3px",
			  "886.2px","661.7px",
			  "886.2px","687.8px",
			  "886.2px","713.9px",
			  "886.2px","740px",
			  "886.2px","766.1px",
			  "886.2px","792.2px",
			  "886.2px","818.3px",
			  "886.2px","844.4px",
			  "886.2px","870.5px",
			  "886.2px","896.6px",
			  "886.2px","922.7px",
			  "886.2px","948.8px",
			  "886.2px","974.9px",
			  "886.2px","1001px",
			  "886.2px","1027.1px"
			  ];
var joueur='{"nom":"#J1","pv":100,"armor":100,"energy":100,"att":25,"top":"192px","left":"740px"}';

var currentMousePos = {};
var menuPosX = "267px";
var menuPosY = "1190px";

var viePosX = "61px";
var viePosY = "1214px";

var armorPosX = "118px";
var armorPosY = "1214px";

var energyPosX = "176px";
var energyPosY = "1214px";
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
function init(){
    obj_M = JSON.parse(monsters);
	obj_J = JSON.parse(joueur);
	/* 1ere version en dur dans le code placement des Pièces M+J
	placerPiece("#m1","150px","150px");
	placerPiece("#m2","150px","450px");
	placerPiece("#m3","450px","250px");
		
	placerPiece("#J1","300px","250px");
	*/
	for(var i=0;i<obj_M.Monsters.length;i++){
		placerElement(obj_M.Monsters[i].nom, obj_M.Monsters[i].top, obj_M.Monsters[i].left);
	}
	$("#darkflecheup").css("opacity","0");
	$("#darkflechedown").css("opacity","0");
	$("#darkflecheright").css("opacity","0");
	$("#darkflecheleft").css("opacity","0");
	placerElement("#J1", obj_J.top, obj_J.left);
	placerElement("#J2", obj_J.top, obj_J.left);
	placerElement("#J3", obj_J.top, obj_J.left);
	placerElement("#J4", obj_J.top, obj_J.left);
	afficherStat();
	afficherMenuJ(menuPosX, menuPosY);
	placerElement("#zerovie", viePosX, viePosY);
	placerElement("#dixvie", viePosX, viePosY);
	placerElement("#vingtvie", viePosX, viePosY);
	placerElement("#trentevie", viePosX, viePosY);
	placerElement("#quarantevie", viePosX, viePosY);
	placerElement("#cinquantevie", viePosX, viePosY);
	placerElement("#soixantevie", viePosX, viePosY);
	placerElement("#soixantedixvie", viePosX, viePosY);
	placerElement("#quatrevingtvie", viePosX, viePosY);
	placerElement("#quatrevingtdixvie", viePosX, viePosY);
	placerElement("#centvie", viePosX, viePosY);
	
	placerElement("#zeroarmor", armorPosX, armorPosY);
	placerElement("#dixarmor", armorPosX, armorPosY);
	placerElement("#vingtarmor", armorPosX, armorPosY);
	placerElement("#trentearmor", armorPosX, armorPosY);
	placerElement("#quarantearmor", armorPosX, armorPosY);
	placerElement("#cinquantearmor", armorPosX, armorPosY);
	placerElement("#soixantearmor", armorPosX, armorPosY);
	placerElement("#soixantedixarmor", armorPosX, armorPosY);
	placerElement("#quatrevingtarmor", armorPosX, armorPosY);
	placerElement("#quatrevingtdixarmor", armorPosX, armorPosY);
	placerElement("#centarmor", armorPosX, armorPosY);
	
	placerElement("#zeroenergy", energyPosX, energyPosY);
	placerElement("#dixenergy", energyPosX, energyPosY);
	placerElement("#vingtenergy", energyPosX, energyPosY);
	placerElement("#trenteenergy", energyPosX, energyPosY);
	placerElement("#quaranteenergy", energyPosX, energyPosY);
	placerElement("#cinquanteenergy", energyPosX, energyPosY);
	placerElement("#soixanteenergy", energyPosX, energyPosY);
	placerElement("#soixantedixenergy", energyPosX, energyPosY);
	placerElement("#quatrevingtenergy", energyPosX, energyPosY);
	placerElement("#quatrevingtdixenergy", energyPosX, energyPosY);
	placerElement("#centenergy", energyPosX, energyPosY);
}

function placerElement(id, t, l){
	document.querySelector(id).style.top=t;
	document.querySelector(id).style.left=l;
}

function afficherMenuD(posx, posy){
	console.log(currentMousePos);
	t = obj_J.top;
	l = obj_J.left;
	placerElement("#menuD", menuPosX, menuPosY);
	$("#menuD").css("display","inline-block");
}
function deplacer(dir) {
	//POSITION DU JOUEUR
	var top = document.querySelector(obj_J.nom).style.top.split("px");
	var left = document.querySelector(obj_J.nom).style.left.split("px");
	left = left[0];
	top = top[0];
	if(dir == "up") {
		top = parseFloat(top)-26.7;
		$("#J1up").css("opacity","100");
		$("#J1down").css("opacity","0");
		$("#J1right").css("opacity","0");
		$("#J1left").css("opacity","0");
		$("#darkflechedown").css("opacity","0");
		$("#darkflecheright").css("opacity","0");
		$("#darkflecheleft").css("opacity","0");
		$("#darkflecheup").css("opacity","100");
	}
	if(dir == "down") {
		top = parseFloat(top)+26.7;
		$("#J1up").css("opacity","0");
		$("#J1down").css("opacity","100");
		$("#J1right").css("opacity","0");
		$("#J1left").css("opacity","0");
		$("#darkflechedown").css("opacity", "100");
		$("#darkflecheright").css("opacity","0");
		$("#darkflecheleft").css("opacity","0");
		$("#darkflecheup").css("opacity","0");
	}
	if(dir == "right") {
		left = parseFloat(left)+26.1;
		$("#J1up").css("opacity","0");
		$("#J1down").css("opacity","0");
		$("#J1right").css("opacity","100");
		$("#J1left").css("opacity","0");
		$("#darkflechedown").css("opacity","0");
		$("#darkflecheright").css("opacity","100");
		$("#darkflecheleft").css("opacity","0");
		$("#darkflecheup").css("opacity","0");
	}
	if(dir == "left") {
		left = parseFloat(left)-26.1;
		$("#J1up").css("opacity","0");
		$("#J1down").css("opacity","0");
		$("#J1right").css("opacity","0");
		$("#J1left").css("opacity","100");
		$("#darkflechedown").css("opacity","0");
		$("#darkflecheright").css("opacity","0");
		$("#darkflecheleft").css("opacity","100");
		$("#darkflecheup").css("opacity","0");
	}
	for(var i=0; i<posblock.length-1; i= i+2) {
		// POSITION INTERDITE;
		var postop = posblock[i].split("px");
		var posleft = posblock[i+1].split("px");
		postop = parseFloat(postop[0]);
		posleft = parseFloat(posleft[0]);
		console.log();
		if(left > 1106 || left < 61 || top < 31 || top > 887) {
			switch(dir) {
				case "up":
					top = top + 26.7;
					break;
				case "down":
					top = top - 26.7;
					break;
				case "right":
					left = left - 26.1;
					break;
				case "left":
					left = left + 26.1;
					break;
				}			
		}
		if(top > (postop-10) && top < (postop+10)) {
			if(left > (posleft-3) && left < (posleft+3)) {
				switch(dir) {
					case "up":
						top = top + 26.7;
						break;
					case "down":
						top = top - 26.7;
						break;
					case "right":
						left = left - 26.1;
						break;
					case "left":
						left = left + 26.1;
						break;
				}
			}
		}
	}
	if((top > 190 && top < 194) && (left > 555 && left < 560)) {
		top=245.4;
		left=61.4;
	}
	if((top > 590 && top < 594) && (left > 450 && left < 455)) {
		top=245.4;
		left=452.9;
	}
	if((top > 830 && top < 834) && (left > 423 && left < 428)) {
		top=619.1999999999999;
		left=452.9;
	}
	if((top > 190 && top < 194) && (left > 214 && left < 220)) {
		top=31.8;
		left=373.5999999999999;
	}
	if((top > 242 && top < 246) && (left > 160 && left < 166)) {
		top=832.8;
		left=426.8;
	}
	if((top > 163 && top < 167) && (left > 918 && left < 923)) {
		top=245.4;
		left=217;
	}
	if((top > 670 && top < 674) && (left > 502 && left < 506)) {
		top=165.3
		left=921.7;
	}
	if((top > 243 && top < 247) && (left > 996 && left < 1003)) {
		top=672.6;
		left=504.1;
	}
	if((top > 484 && top < 487) && (left > 398 && left < 401)) {
		top=245.40000000000003;
		left=1000;
	}
	if((top > 57 && top < 60) && (left > 711 && left < 714)) {
		top=485.7;
		left=399.7;
	}
	if((top > 430 && top < 433) && (left > 685 && left < 688)) {
		top=58.5;
		left=712.9;
	}
	if((top > 698 && top < 701) && (left > 504 && left < 506)) {
		top = 432.3;
		left = 686.8;
	}
	if((top > 403 && top < 407) && (left > 765 && left < 767)) {
		top = 699.3;
		left = 505.1;
	}

	obj_J.top = top+"px";
	obj_J.left = left+"px";
	placerElement("#J1", obj_J.top, obj_J.left);
	placerElement("#J2", obj_J.top, obj_J.left);
	placerElement("#J3", obj_J.top, obj_J.left);
	placerElement("#J4", obj_J.top, obj_J.left);
	console.clear();
	console.log("postop:"+obj_J.top+"\nposleft:"+obj_J.left);
	dark("");
}
function afficherMenuJ(posx, posy){
	console.log(currentMousePos);
	placerElement("#menuJ", menuPosX, menuPosY);
	$("#menuJ").css("display","inline-block");
	$("#menuD").css("display","none");
}
function afficherStat() {
	
	// VIE
	if(obj_J.pv == 0) {
		$("#zerovie").css("opacity","100");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 0 && obj_J.pv < 10) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","100");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 9 && obj_J.pv < 20) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","100");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 19 && obj_J.pv < 30) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","100");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 29 && obj_J.pv < 40) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","100");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 39 && obj_J.pv < 50) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","100");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 49 && obj_J.pv < 60) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","100");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 59 && obj_J.pv < 70) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","100");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 69 && obj_J.pv < 80) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","100");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 79 && obj_J.pv < 90) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","100");$("#centvie").css("opacity","0");
	}
	if(obj_J.pv > 89 && obj_J.pv <= 100) {
		$("#zerovie").css("opacity","0");$("#dixvie").css("opacity","0");$("#vingtvie").css("opacity","0");$("#trentevie").css("opacity","0");$("#quarantevie").css("opacity","0");$("#cinquantevie").css("opacity","0");$("#soixantevie").css("opacity","0");$("#soixantedixvie").css("opacity","0");$("#quatrevingtvie").css("opacity","0");$("#quatrevingtdixvie").css("opacity","0");$("#centvie").css("opacity","100");
	}
	
	//ARMOR
	if(obj_J.armor == 0) {
		$("#zeroarmor").css("opacity","100");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 0 && obj_J.armor < 10) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","100");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 9 && obj_J.armor < 20) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","100");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 19 && obj_J.armor < 30) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","100");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 29 && obj_J.armor < 40) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","100");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 39 && obj_J.armor < 50) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","100");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 49 && obj_J.armor < 60) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","100");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 59 && obj_J.armor < 70) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","100");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 69 && obj_J.armor < 80) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","100");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 79 && obj_J.armor < 90) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","100");$("#centarmor").css("opacity","0");
	}
	if(obj_J.armor > 89 && obj_J.armor <= 100) {
		$("#zeroarmor").css("opacity","0");$("#dixarmor").css("opacity","0");$("#vingtarmor").css("opacity","0");$("#trentearmor").css("opacity","0");$("#quarantearmor").css("opacity","0");$("#cinquantearmor").css("opacity","0");$("#soixantearmor").css("opacity","0");$("#soixantedixarmor").css("opacity","0");$("#quatrevingtarmor").css("opacity","0");$("#quatrevingtdixarmor").css("opacity","0");$("#centarmor").css("opacity","100");
	}
	
	//ENERGY
	if(obj_J.energy == 0) {
		$("#zeroenergy").css("opacity","100");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 0 && obj_J.energy < 10) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","100");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 9 && obj_J.energy < 20) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","100");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 19 && obj_J.energy < 30) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","100");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 29 && obj_J.energy < 40) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","100");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 39 && obj_J.energy < 50) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","100");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 49 && obj_J.energy < 60) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","100");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 59 && obj_J.energy < 70) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","100");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 69 && obj_J.energy < 80) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","100");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 79 && obj_J.energy < 90) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","100");$("#centenergy").css("opacity","0");
	}
	if(obj_J.energy > 89 && obj_J.energy <= 100) {
		$("#zeroenergy").css("opacity","0");$("#dixenergy").css("opacity","0");$("#vingtenergy").css("opacity","0");$("#trenteenergy").css("opacity","0");$("#quaranteenergy").css("opacity","0");$("#cinquanteenergy").css("opacity","0");$("#soixanteenergy").css("opacity","0");$("#soixantedixenergy").css("opacity","0");$("#quatrevingtenergy").css("opacity","0");$("#quatrevingtdixenergy").css("opacity","0");$("#centenergy").css("opacity","100");
	}
}	
function prendre(posx, posy){
	alert("Tu as récupéré un objet !");
}
function attaquer(posx, posy){
	alert("Tu attaqué un monstre !");
}
function consommer(posx, posy){
	alert("Tu consommé un objet !");
}
$(document).ready(function(){
	console.log(">>jQuery OK");
	document.onkeydown=function (e){
		e=e || window.event;
		var code=e.keyCode || e.wihch;
		if(code==38) {
			deplacer("up");
		}
		if(code==40) {
			deplacer("down");
		}
		if(code==39) {
			deplacer("right");
		}
		if(code==37) {
			deplacer("left");
		}
	}

	$("#take").click(function(event){
	    currentMousePos.x= event.pageX;
		currentMousePos.y= event.pageY;
	
		prendre();
	});
	$("#food").click(function(event){
	    currentMousePos.x= event.pageX;
		currentMousePos.y= event.pageY;
	
		consommer();
	});
	$("#attack").click(function(event){
	    currentMousePos.x= event.pageX;
		currentMousePos.y= event.pageY;
	
		attaquer();
	});
});